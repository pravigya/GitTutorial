utility functions for second version
